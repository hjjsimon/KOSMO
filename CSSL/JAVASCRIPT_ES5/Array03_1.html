<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Array03_1.html</title>
    <script>
        /*
        배열:자바와는 다르게 여러 타입(자료형)의 값을 저장할 수 있는 자료구조(메모리)
            자바의 컬렉션과 같다. 배열의 크기가 고정되어 있지 않다
        
        선언방법:
		var 배열명 = new Array(); // var 배열명 =[]랑 완전 동일
        var 배열명 = new Array(배열크기);
        var 배열명 = new Array(요소1,요소2,.....);
        */
        //배열선언방법1]
        //-배열크기가 0인 배열이 생성됨
        //-최종적으로 넣은 마지막 인덱스값에 따라 배열크기가 결정됨
        var arr1=new Array();//var arr1=[]와 동일([]은 배열리터럴)
        console.log('arr1의 값:%O,arr1의 타입:%s',arr1,typeof arr1);//arr1의 값:Array(0),arr1의 타입:object
        //배열크기: 배열명.length 사용, 자스는 동적으로 배열크기 변경
        console.log(arr1.length);
        arr1[3]=100;//3번방에 100넣음, 배열인덱스 0부터 시작, 크기4됨 
        console.log(arr1.length);
        arr1[5]=200;
        console.log(arr1.length);//크기6됨
        for(var i=0;i<arr1.length;i++){
            console.log('arr1[%d]:%s',i,arr1[i])//값을 안넣었으니 정의x, undefined나옴, 값이자 타입
        }
        //arr1[0]:배열요소명, 0:배열인덱스
        //초기화]
        arr1[0]=1;
        arr1[1]=new Date();//new했으니까 object타입 나옴
        arr1[2]=3.14;
        arr1[3]=true;
        arr1[4]='자바스크립트';
        for(var i=0;i<arr1.length;i++){
            console.log('arr1[%d]:%s,타입:%s',i,arr1[i],typeof arr1[i])
        }
        arr1.push(500);
        arr1.push(600);
        console.log(arr1.length)//요소 넣음, 배열크기 또 늘어나 크기 8됨
        //배열선언방법2-배열크기 지정]
        var arr2=new Array(3);//3이 배열크기(가변적)
        console.log('배열의 크기:',arr2.length);//값이 1개면 %s안해도 그냥 연결됨
        arr2[5]=100;
        console.log('배열의 크기:',arr2.length);//크기6됨
        //배열선언방법3-선언과 동시에 초기화(new사용)]
        var arr3=new Array('가길동',20,'가산동',new Date());
        //숫자 하나넣으면 배열크기, 이렇게 문자 넣으면 배열크기 1 그냥 넣는대로 저장, ...items 나오는건 varargs임 그냥 계속 넣으면 됨
        console.log('배열의 크기:',arr3.length);//배열크기 4 = 메모리개수
        for(var i=0;i<arr3.length;i++){
            console.log('arr3[%d]:%s,타입:%s',i,arr3[i],typeof arr3[i])
        }
        arr3.push('010-1234-5678');
        console.log('배열의 크기:',arr3.length);//1개 추가해서 배열크기5
        //배열선언방법4]
        //선언과 동시에 초기화(new 미사용, []대괄호(배열리터럴)사용)
        //var arr4=[];//var arr4=new Array()와 동일
        var arr4=['한소인',10,'자바전문과정',{소유주:'가길동',설립일:1970}];//요소4개,3번방은 object타입
        arr4[arr4.length]=30;//마지막방(3) 이후(4)에 1개 추가
        console.log('배열 크기:',arr4.length)//크기5
        for(var i=0;i<arr4.length;i++){
            console.log('arr4[%d]:%O,타입:%s',i,arr4[i],typeof arr4[i])//String 같은거 객체타입 아니어도 O잘나옴
        }
        console.log(arr4[3]['소유주']);//키값으로 객체(가길동) 꺼내옴, 변수인줄 아니까 ''로 감싸줌
        console.log('================');
        for(var i=0;i<arr4.length;i++){
            //console.log(typeof arr4[i]==='object');//변수로 인식하니까 ''처리(f 3개,t,f나옴)
            if(typeof arr4[i]==='object'){
                for(var key in arr4[i]){//객체의 키값을 꺼내서 key에 담음, 소유주, 설립일이 담김
                    console.log('%s : %s',key,arr4[i][key]);
                }
            }
            else console.log(arr4[i]);
        }
        //for(변수 in 배열 혹은 객체)문은 객체({})와 배열에 모두 사용가능
        //배열일때는 순회하면서 인덱스를 꺼내고, 객체일때는 순회하면서 키를 꺼내온다
        var arr5=['가','나','다'];//배열
        console.log('[일반 for문 형식]');
        for(var k=0;k<arr5.length;k++){
            console.log(arr5[k])
        }
        console.log('[for~in문 형식]');
        for(var index in arr5){
            console.log(arr5[index]);//꺼낸 인덱스를 넣어줌
        }
        var obj={name:'가길동',age:20,addr:'가산동'};
        for(var key in obj) console.log(obj[key])//for~in문, 꺼낼때 무조건 []필요, obj.key안됨
        //obj.key는 키값이 말그대로 key여야함, undefined 나옴

    </script>
</head>
<body>
    <fieldset>
    <legend>학생의 평균 구하기</legend>
    학생 수 입력 : <input type="text" id="students"/>
    <button onclick='getAverage()'>평균 구하기</button>
  </fieldset>
  <script>
    //배열선언]
    var score=[];//점수 넣을 배열
    var textNode=document.querySelector('#students');
    //console.log(textNode,parseInt(textNode.value));//textNode.value가 사용자가 입력한값
    function getAverage(){
        console.log('사용자 입력값:',parseInt(textNode.value));//입력한값 무조건 String처리라 parseInt해서 int로 바꾼것
        var numberOfStudents=parseInt(textNode.value);
        if(isNaN(numberOfStudents)){//숫자 아닌건 isNaN()함수로 판단 
            alert('숫자만 입력하세요');//33ddd이런 숫자시작은 parseInt가 숫자만 기막히게 뽑아옴
            return;//함수 빠져나감
        }
        //학생수만큼 점수 입력받고 총합 및 평균 구하기]
        var total=0;
        for(var i=0;i<numberOfStudents;i++){
            score.push(parseInt(prompt(i+1+'번째 점수를 입력하세요?')));//입력받은건 push로 score에 넣음
            total+=score[i];
        }
        console.log('[학생의 성적출력]');
        for(var index in score){
            console.log('%d번째 학생:%d',parseInt(index)+1,score[index]);//꺼낸 index 스트링이라 parseInt,0번째 학생 이상하니까 +1
        }
        console.log('총점:%d,평균:%f',total,total/numberOfStudents);
    }
  </script>
</body>
</html>