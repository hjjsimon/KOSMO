
/* Drop Tables */

DROP TABLE JUNK CASCADE CONSTRAINTS;
DROP TABLE SALES CASCADE CONSTRAINTS;
DROP TABLE CAR CASCADE CONSTRAINTS;
DROP TABLE CUSTOMER CASCADE CONSTRAINTS;
DROP SEQUENCE SEQ_SALES;

CREATE SEQUENCE SEQ_SALES
NOCACHE
NOCYCLE;



/* Create Tables */

CREATE TABLE CAR
(
	CAR_CODE char(4) NOT NULL,
	CAR_NAME varchar2(50) NOT NULL,
	CAR_KIND varchar2(50),
	CAR_YEAR number(4) DEFAULT 2023,
	PRIMARY KEY (CAR_CODE)
);


CREATE TABLE CUSTOMER
(
	ID nvarchar2(10) NOT NULL,
	NAME nvarchar2(10) NOT NULL,
	CONTACT varchar2(50),
	REGIDATE date DEFAULT SYSDATE,
	PRIMARY KEY (ID)
);


CREATE TABLE JUNK
(
	SALES_NO number NOT NULL,
	JUNK_DATE date DEFAULT SYSDATE,
	PRIMARY KEY (SALES_NO)
);


CREATE TABLE SALES
(
	SALES_NO number NOT NULL,
	ID nvarchar2(10),
	CAR_CODE char(4) NOT NULL,
	SALES_DATE date DEFAULT SYSDATE,
	PRIMARY KEY (SALES_NO)
);



/* Create Foreign Keys */

ALTER TABLE SALES
	ADD FOREIGN KEY (CAR_CODE)
	REFERENCES CAR (CAR_CODE)
;


ALTER TABLE SALES
	ADD FOREIGN KEY (ID)
	REFERENCES CUSTOMER (ID)
;


ALTER TABLE JUNK
	ADD FOREIGN KEY (SALES_NO)
	REFERENCES SALES (SALES_NO)
;













